# ADR-004: Value Objects no Domínio

## Status
Aprovado

## Contexto
Campos como CPF/CNPJ, e-mail, telefone e endereço possuem regras de formato,
validação e comportamento próprios. Colocar essas regras apenas em validators
externos (FluentValidation) fragiliza o domínio, pois um objeto pode ser
construído em estado inválido se o validator não for chamado.

## Decisão
Implementar os campos com regras próprias como Value Objects imutáveis.
A validação acontece no construtor — é impossível instanciar um VO inválido.

## Value Objects Definidos

| Value Object | Responsabilidade                                                              |
|--------------|-------------------------------------------------------------------------------|
| `Documento`  | Encapsula CPF ou CNPJ, detecta o tipo pelo tamanho, valida dígitos (Mod-11)   |
| `Email`      | Valida formato RFC 5322, normaliza para lowercase                             |
| `Telefone`   | Valida formato brasileiro (fixo e celular), armazena apenas dígitos           |
| `Endereco`   | Agrupa CEP, logradouro, número, bairro, cidade e estado                       |

## Consequências
- Impossível criar um `Cliente` com documento ou e-mail inválido
- Regras de formato centralizadas — sem duplicação entre domínio e validators
- Value Objects são imutáveis: qualquer alteração gera uma nova instância,
  o que é o comportamento correto e semanticamente expressivo no DDD
- FluentValidation continua sendo usado nos Commands para validações de
  entrada da API (campos obrigatórios, tamanhos), complementando os VOs